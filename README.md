# Сервис авторизации, регистрации и раздачи токенов

## Описание функциональности сервиса

Swagger c описанием ендпоинтов доступен после поднятия приложения по адресу `http://127.0.0.1:8000/swagger` или в файле `openapi.json`

1. Регистрация пользователя (по логину и паролю)
2. Аутентификация пользователя по логину и паролю с выдачей JWT

## Работа с приложением

### Требования

- `Docker` и `docker-compose`
- `Python 3.11`
- `Poetry`

### Установка

1. Создание виртуального окружения и установка зависимостей:
   ```commandline
   poetry install
   ```

2. Активация виртуального окружения:
   ```commandline
   poetry shell
   ```

### Запуск

1. Создание `.env` файла с необходимыми переменными:
   ```commandline
   make env
   ```

2. Создание базы в docker-контейнере (чтобы не работать с локальной базой):
   ```commandline
   make db
   ```

3. Выполнение миграций:
   ```commandline
   make migrate
   ```

4. Запуск приложения:
   ```commandline
   make run
   ```

### Тестирование

- Запуск тестов со всеми необходимыми флагами:
  ```commandline
  make test
  ```

- Запуск тестов с генерацией отчета о покрытии:
  ```commandline
  make test-cov
  ```

### Статический анализ

- Запуск линтеров:
   ```commandline
   make lint
   ```

- Запуск форматирования кода:
   ```commandline
   make format
   ```
